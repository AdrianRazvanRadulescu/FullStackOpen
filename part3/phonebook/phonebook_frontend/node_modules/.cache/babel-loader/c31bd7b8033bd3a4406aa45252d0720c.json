{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adria\\\\Desktop\\\\FullStackOpen\\\\part3\\\\phonebook\\\\phonebook_frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Form from \"./components/Form\";\nimport Filter from \"./components/Filter\";\nimport PersonsList from \"./components/PersonsList\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterName, setNewFilterName] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addPerson = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    };\n    const personFound = persons.find(person => person.name === personObject.name);\n\n    if (personFound !== undefined) {\n      const willUpdate = window.confirm(`${personFound.name} is already in the phonebook. Replace the old number?`);\n\n      if (willUpdate) {\n        const updatedPerson = { ...personFound,\n          number: newNumber\n        };\n        console.log(updatedPerson);\n        personService.update(personFound.id, updatedPerson).then(returnedPerson => {\n          setPersons(persons.map(person => personFound.id !== person.id ? person : returnedPerson));\n          setMessage(`Changed ${returnedPerson.name}'s number.`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        }).catch(error => {\n          setPersons(persons.filter(person => person.id !== updatedPerson.id));\n          setMessage(`[ERROR] ${updatedPerson.name} was already deleted from server`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n      }\n    } else {\n      personService.create(personObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setMessage(`Added ${returnedPerson.name} to the list.`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deletePerson = id => {\n    const personToDelete = persons.filter(person => person.id === id);\n    const personName = personToDelete[0].name;\n    if (window.confirm(`Delete the person ${personName}?`)) personService.remove(id).then(() => setPersons(persons.filter(person => person.id !== id))).catch(error => {\n      setPersons(persons.filter(person => person.id !== personToDelete[0].id));\n      setMessage(`[ERROR] ${personToDelete[0].name} was already deleted from server`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n    });\n  };\n\n  const handleNameChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterName = event => {\n    console.log(event.target.value);\n    setNewFilterName(event.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      filterName: filterName,\n      handleFilterName: handleFilterName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      addPerson: addPerson,\n      newName: newName,\n      handleNameChange: handleNameChange,\n      newNumber: newNumber,\n      handleNumberChange: handleNumberChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonsList, {\n      persons: persons,\n      filterName: filterName,\n      deletePerson: deletePerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"CCr6DfkSzKgmfhDjv3/HRXijnsI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Form","Filter","PersonsList","Notification","personService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterName","setNewFilterName","message","setMessage","getAll","then","initialPersons","addPerson","event","preventDefault","personObject","name","number","id","length","personFound","find","person","undefined","willUpdate","window","confirm","updatedPerson","console","log","update","returnedPerson","map","setTimeout","catch","error","filter","create","concat","deletePerson","personToDelete","personName","remove","handleNameChange","target","value","handleNumberChange","handleFilterName"],"sources":["C:/Users/adria/Desktop/FullStackOpen/part3/phonebook/phonebook_frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Form from \"./components/Form\";\nimport Filter from \"./components/Filter\";\nimport PersonsList from \"./components/PersonsList\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterName, setNewFilterName] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    };\n\n    const personFound = persons.find(\n      (person) => person.name === personObject.name\n    );\n\n    if (personFound !== undefined) {\n      const willUpdate = window.confirm(\n        `${personFound.name} is already in the phonebook. Replace the old number?`\n      );\n\n      if (willUpdate) {\n        const updatedPerson = { ...personFound, number: newNumber };\n        console.log(updatedPerson);\n\n        personService\n          .update(personFound.id, updatedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                personFound.id !== person.id ? person : returnedPerson\n              )\n            );\n            setMessage(`Changed ${returnedPerson.name}'s number.`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setPersons(\n              persons.filter((person) => person.id !== updatedPerson.id)\n            );\n            setMessage(\n              `[ERROR] ${updatedPerson.name} was already deleted from server`\n            );\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          });\n      }\n    } else {\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setMessage(`Added ${returnedPerson.name} to the list.`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n    }\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const deletePerson = (id) => {\n    const personToDelete = persons.filter((person) => person.id === id);\n    const personName = personToDelete[0].name;\n\n    if (window.confirm(`Delete the person ${personName}?`))\n      personService\n        .remove(id)\n        .then(() => setPersons(persons.filter((person) => person.id !== id)))\n        .catch((error) => {\n          setPersons(\n            persons.filter((person) => person.id !== personToDelete[0].id)\n          );\n          setMessage(\n            `[ERROR] ${personToDelete[0].name} was already deleted from server`\n          );\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n  };\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterName = (event) => {\n    console.log(event.target.value);\n    setNewFilterName(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filterName={filterName} handleFilterName={handleFilterName} />\n\n      <h3>add a new</h3>\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <PersonsList\n        persons={persons}\n        filterName={filterName}\n        deletePerson={deletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}